- name: Set Prompt
  ansible.builtin.shell: set-prompt {{ component }}-{{ env }}

- name: Increase Disk Partition
  ansible.builtin.shell: growpart /dev/nvme0n1 4
  ignore_errors: yes

- name: Increase Disk Size
  ansible.builtin.shell: lvextend -r -L {{ item.size }}G /dev/mapper/{{ item.lvm }}
  loop: "{{ lvm_sizes }}"
  ignore_errors: yes

# Download node exporter on every ec2 instances
- name: Node Exporter
  ansible.builtin.import_role:
    name: common
    tasks_from: node_exporter